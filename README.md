# Реализация авторизации и регистрации пользователя через API

API предлагает возможность авторизации и регистрации пользователя GET запросом /api/user_auth. 
Для выполнения запроса необходимо предоставить следующие входящие данные: 
 - access_token 
 - id
 - firstname
 - lastname
 - country
 - city
 - sig

Формат ответа - JSON. В случае успешной авторизации или регистрации, ответ содержит:
 - accesstoken, 
 - userinfo (с информацией о пользователе), 
 - error
 - errorKey

В случае ошибки - сообщение об ошибке и ключ ошибки: 
 - error
 - errorKey

## Пример запроса:

GET /api/user_auth?access_token=07b38cd0e778340eb40b25e005476ce8&id=1&first_name=Иван&last_name=Иванов&country=Россия&city=Москва&sig=5427b31460cd807aab7e184364960958


## Пример успешного ответа:

{
"access_token": "07b38cd0e778340eb40b25e005476ce8",
"user_info": {
"id": 1,
"first_name": "Иван",
"last_name": "Иванов",
"city": "Москва",
"country": "Россия"
},
"error": "",
"error_key": ""
}


## Пример ответа (в случае ошибки):

{
"error": "Ошибка авторизации в приложении",
"error_key": "signature error"
}

# Развертывание PHP проекта на Laravel с использованием Sail и MySQL

Данная инструкция предназначена для развертывания PHP проекта на фреймворке Laravel с использованием Sail, инструмента для развертывания приложений на Docker, а также с использованием СУБД MySQL.

## Шаг 1: Установка Sail и MySQL

Убедитесь, что у вас установлен Docker и docker-compose.

1. Установите Sail, выполнив команду:

composer require laravel/sail --dev


2. Запустите Sail:

php artisan sail:install


3. Для добавления поддержки MySQL выполните команду:

./vendor/bin/sail up -d


## Шаг 2: Настройка базы данных

1. После установки MySQL с помощью Sail, настройте файл .env вашего проекта с параметрами подключения к базе данных. Пример:

DB_CONNECTION=mysql
DB_HOST=mysql
DB_PORT=3306
DB_DATABASE=название_вашей_базы_данных
DB_USERNAME=ваше_имя_пользователя
DB_PASSWORD=ваш_пароль


2. Для применения настроек, выполните миграции и посевы с помощью команд:

./vendor/bin/sail artisan migrate
./vendor/bin/sail artisan db:seed


## Шаг 3: Запуск проекта

1. Запустите проект с помощью команды:

./vendor/bin/sail up


2. При первом запуске будут созданы все необходимые контейнеры. После этого проект будет доступен по адресу http://localhost.

## Шаг 4: Доступ к приложению

Теперь ваше приложение на Laravel доступно по адресу http://localhost. Вы можете начать работу над ним, используя Sail для работы с контейнерами Docker и MySQL для работы с базой данных.

## Шаг 5: Завершение работы

Чтобы остановить проект, выполните команду:

./vendor/bin/sail down
